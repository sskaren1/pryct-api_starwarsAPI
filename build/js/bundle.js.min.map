{"version":3,"sources":["index.js"],"names":["ULR_STAR_WARS","ULR_SW_IMAGES","inputSearch","document","querySelector","btnSearch","card","image","cardName","cardPlanet","cardVehicles","starwarSearch","onclick","event","preventDefault","inputStarwars","value","console","log","getDataFromStarWars","Swal","fire","title","text","icon","addEventListener","key","target","async","id","response","fetch","data","json","getImageFromStarWars","results","actors","imagenes","map","actor","resultado","filter","imagen","name","imageFromAPI","setStarwarsCard","planetUrl","homeworld","responsePlanet","dataPlanet","idSearch","src","textContent"],"mappings":"AACA,MAAAA,cAAA,+BACAC,cAAA,qDAGAC,YAAAC,SAAAC,cAAA,kBACAC,UAAAF,SAAAC,cAAA,gBAGAE,KAAAH,SAAAC,cAAA,SACAG,MAAAJ,SAAAC,cAAA,UACAI,SAAAL,SAAAC,cAAA,eACAK,WAAAN,SAAAC,cAAA,iBACAM,aAAAP,SAAAC,cAAA,mBAGAO,cAAAN,UAAAO,QAAAC,IACAA,EAAAC,iBAEA,MAAAC,EAAAb,YAAAc,MAEAd,YAAAc,MAAA,GACAC,QAAAC,IAAAH,GAEA,KAAAA,EASAI,oBAAAJ,GARAK,KAAAC,KAAA,CACAC,MAAA,QACAC,KAAA,2CACAC,KAAA,WAQAtB,YAAAuB,iBAAA,SAAA,SAAAZ,GACA,UAAAA,EAAAa,MACAP,oBAAAN,EAAAc,OAAAX,OACAd,YAAAc,MAAA,OAKA,MAAAG,oBAAAS,MAAAC,IACA,MAAAC,QAAAC,MAAA/B,eACAgC,QAAAF,EAAAG,aAEAC,qBAAAF,EAAAG,QAAAN,IAGAV,sBAEA,MAAAe,qBAAAN,MAAAQ,EAAAP,KACA,MAAAC,QAAAC,MAAA9B,eACAoC,QAAAP,EAAAG,OAEAG,EAAAE,IAAAC,IAEA,MAAAC,EAAAH,EAAAI,OAAAC,GAAAA,EAAAC,OAAAJ,EAAAI,MACAJ,EAAAK,aAAAJ,EAAA,GAAAjC,QAKAU,QAAAC,IAAAkB,EAAAP,IACAgB,gBAAAT,EAAAP,IAGAgB,gBAAAjB,MAAAQ,EAAAP,EAAA,KACA,MAAAiB,QAAAV,EAAAP,EAAA,GAAAkB,UACAC,QAAAjB,MAAAe,GACAG,QAAAD,EAAAf,OAGAiB,EAAAd,EAAAP,EAAA,GAGAtB,MAAA4C,IAAA,GAAAD,EAAAN,aAEApC,SAAA4C,YAAAF,EAAAP,KAEAlC,WAAA2C,YAAA,cAAAH,EAAAN,KAIA1B,QAAAC,IAAAW,GACAZ,QAAAC,IAAAkB","file":"bundle.js","sourcesContent":["//APIs\r\nconst ULR_STAR_WARS = \"https://swapi.dev/api/people\";\r\nconst ULR_SW_IMAGES = \"https://akabab.github.io/starwars-api/api/all.json\";\r\n\r\n//Search\r\nconst inputSearch = document.querySelector(\".search__input\");\r\nconst btnSearch = document.querySelector(\".search__btn\");\r\n\r\n//Card\r\nconst card = document.querySelector(\".card\");\r\nconst image = document.querySelector(\".image\");\r\nconst cardName = document.querySelector(\".card__name\");\r\nconst cardPlanet = document.querySelector(\".card__planet\");\r\nconst cardVehicles = document.querySelector(\".card__vehicles\");\r\n\r\n// Boton search\r\nconst starwarSearch = btnSearch.onclick = (event) => {\r\n  event.preventDefault();\r\n\r\n  const inputStarwars = inputSearch.value;\r\n\r\n  inputSearch.value = \"\";\r\n  console.log(inputStarwars);\r\n\r\n  if (inputStarwars === \"\") {\r\n    Swal.fire({\r\n      title: \"Error\",\r\n      text: \"Debe llenar el campo nombre pokemon o id\",\r\n      icon: \"error\",\r\n    });\r\n    return;\r\n  }\r\n\r\n  getDataFromStarWars(inputStarwars);\r\n};\r\n\r\ninputSearch.addEventListener(\"keyup\", function (event) {\r\n  if (event.key === \"Enter\") {\r\n    getDataFromStarWars(event.target.value);\r\n    inputSearch.value = \"\";\r\n  }\r\n});\r\n\r\n// ObtenciÃ³n de la data\r\nconst getDataFromStarWars = async (id) => {\r\n  const response = await fetch(ULR_STAR_WARS);\r\n  const data = await response.json();\r\n  \r\n  await getImageFromStarWars(data.results, id);\r\n  // console.log(data.results);\r\n};\r\ngetDataFromStarWars();\r\n\r\nconst getImageFromStarWars = async (actors, id) => {\r\n  const response = await fetch(ULR_SW_IMAGES);\r\n  const imagenes = await response.json();\r\n\r\n  actors.map((actor) => {\r\n    // la idea es que por cada iteracion se pueda extraer la foto del API de ULR_SW_IMAGES\r\n    const resultado = imagenes.filter((imagen) => imagen.name === actor.name);\r\n    actor.imageFromAPI = resultado[0].image;\r\n  });\r\n\r\n  // console.log(actors);\r\n  // console.log(actors, id);\r\n  console.log(actors[id]);\r\n  setStarwarsCard(actors, id);\r\n};\r\n\r\nconst setStarwarsCard = async(actors, id=1) => {\r\n  const planetUrl = await actors[id-1].homeworld;\r\n  const responsePlanet = await fetch(planetUrl);\r\n  const dataPlanet = await responsePlanet.json();\r\n  // console.log(dataPlanet);\r\n  \r\n  const idSearch = actors[id-1];\r\n  // const dataVehicles = await getVehiclesFromStarwars(actors, id);\r\n\r\n  image.src = `${idSearch.imageFromAPI}`;\r\n\r\n  cardName.textContent = idSearch.name;\r\n\r\n  cardPlanet.textContent = `Homeworld: ${dataPlanet.name}`;\r\n\r\n  // cardVehicles.textContent = `Vehicle: ${dataVehicles.name}`;\r\n  \r\n  console.log(id);\r\n  console.log(actors);\r\n  // getVehiclesFromStarwars(actors, id);\r\n}\r\n\r\n// const getVehiclesFromStarwars = async (actors, id) => {\r\n//   const vehiclesUrl = actors[id].vehicles[0];\r\n//   const responseVehicles = await fetch(vehiclesUrl);\r\n//   const dataVehicles = await responseVehicles.json();\r\n\r\n//   cardVehicles.textContent = `Vehicle: ${dataVehicles.name}`;\r\n\r\n//   // console.log(dataVehicles);\r\n// }\r\n\r\n"]}